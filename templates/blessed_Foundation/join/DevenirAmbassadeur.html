{% extends "Base.html" %}

{% block content %}
<!-- Hero Header with Overlay -->
<div class="container-fluid" style="background-image:url(../../static/img/blessed.webp);background-size:cover;padding: 100px 0 0 0;" >
    <div class="container text-center py-5" style="max-width: 900px; " >
            <h1 class="display-4 fw-bold mb-3">Become an Ambassador</h1>        
            <ol class="breadcrumb justify-content-center mb-0">
            <li class="breadcrumb-item"><a href="{% url 'Foundation:index' %}" class="text-white text-decoration-none">Home</a></li>
            <li class="breadcrumb-item active text-white" aria-current="page">Ambassador</li>
        </ol>    
    </div>
</div>


<!-- Success Modal -->
{% if messages %}
<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title" id="successModalLabel">Ambassador Program</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close" onclick="window.location.href='{% url 'Foundation:index' %}'"></button>
            </div>
            <div class="modal-body py-4">
                {% for message in messages %}
                    <p class="mb-0">{{ message }}</p>
                {% endfor %}
            </div>
            <div class="modal-footer">
                <a href="{% url 'Foundation:index' %}" class="btn btn-primary px-4">Close</a>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Introduction Section -->
<div class="container mb-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-4 p-md-5">
                    <h2 class="text-center mb-4">Join Our Mission</h2>
                    <p class="lead text-center mb-4">
                        Whether you're an artist, politician, entrepreneur, web influencer, or any other influential person, 
                        you have the opportunity to support this transformative cause by allowing the use of your image for 
                        awareness or fundraising.
                    </p>
                    <p class="text-center mb-0">
                        We can create posts for you if desired. You can also participate in our events 
                        or get more involved in seeking sponsors.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Form Section -->
<div class="container mb-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card border-0 shadow">
                <div class="card-header bg-light border-0 p-4">
                    <h3 class="text-center mb-0">Ambassador Application</h3>
                </div>
                <div class="card-body p-4 p-md-5">
                    <form class="row g-3 needs-validation" method="post" enctype="multipart/form-data" novalidate>
                        {% csrf_token %}
                        
                        <!-- Personal Information -->
                        <div class="col-12 mb-4">
                            <h4 class="border-bottom pb-2 mb-4">Personal Information</h4>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="nom" class="form-label">Name <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control form-control-lg" id="nom" name="nom" required>
                                    <div class="invalid-feedback">Please provide your name.</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="prenom" class="form-label">Surname <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control form-control-lg" id="prenom" name="prenom" required>
                                    <div class="invalid-feedback">Please provide your surname.</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="inputPhoneNumber" class="form-label">Phone Number <span class="text-danger">*</span></label>
                                    <input type="tel" class="form-control form-control-lg" id="inputPhoneNumber" placeholder="+1 (123) 456-7890" name="phone" required>
                                    <div class="invalid-feedback">Please provide a valid phone number.</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="inputEmail4" class="form-label">Email <span class="text-danger">*</span></label>
                                    <input type="email" class="form-control form-control-lg" id="inputEmail4" name="email" required>
                                    <div class="invalid-feedback">Please provide a valid email address.</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="inputCountry" class="form-label">Country <span class="text-danger">*</span></label>
                                    <select id="inputCountry" class="form-select form-select-lg" name="pays" required>
                                        <option value="" selected>Choose...</option>
                                        <!-- Country options will be dynamically added -->
                                    </select>
                                    <div class="invalid-feedback">Please select your country.</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="inputstate" class="form-label">State/City <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control form-control-lg" id="inputstate" name="ville" required>
                                    <div class="invalid-feedback">Please provide your state or city.</div>
                                </div>
                                <div class="col-12">
                                    <label for="profession" class="form-label">Profession <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control form-control-lg" id="profession" name="profession" required>
                                    <div class="invalid-feedback">Please provide your profession.</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Additional Information -->
                        <div class="col-12 mb-4">
                            <h4 class="border-bottom pb-2 mb-4">Additional Information</h4>
                            <div class="mb-3">
                                <label for="raison" class="form-label">Why are you engaging with our cause? <span class="text-danger">*</span></label>
                                <textarea class="form-control form-control-lg" id="raison" rows="5" name="raison" required></textarea>
                                <div class="invalid-feedback">Please tell us why you're interested in being an ambassador.</div>
                            </div>
                            <div class="mb-3">
                                <label for="fileInput" class="form-label">Upload Your Portrait Photo <span class="text-danger">*</span></label>
                                <input type="file" class="form-control form-control-lg" id="fileInput" aria-label="file example" accept="image/*" name="profil" required>
                                <div class="form-text">Please upload a professional photo that represents you as an ambassador.</div>
                                <div class="invalid-feedback">Please select an image file.</div>
                            </div>
                        </div>
                        
                        <!-- Social Media Links -->
                        <div class="col-12">
                            <h4 class="border-bottom pb-2 mb-4">Social Media Profiles</h4>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="instagram" class="form-label">
                                        <i class="bi bi-instagram me-2"></i>Instagram
                                    </label>
                                    <div class="input-group">
                                        <span class="input-group-text">@</span>
                                        <input type="text" class="form-control form-control-lg" id="instagram" name="instagram" placeholder="username">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label for="Facebook" class="form-label">
                                        <i class="bi bi-facebook me-2"></i>Facebook
                                    </label>
                                    <input type="text" class="form-control form-control-lg" id="Facebook" name="Facebook" placeholder="Profile or page URL">
                                </div>
                                <div class="col-md-6">
                                    <label for="linkedin" class="form-label">
                                        <i class="bi bi-linkedin me-2"></i>LinkedIn
                                    </label>
                                    <input type="text" class="form-control form-control-lg" id="linkedin" name="linkedin" placeholder="Profile URL">
                                </div>
                                <div class="col-md-6">
                                    <label for="Youtube" class="form-label">
                                        <i class="bi bi-youtube me-2"></i>YouTube
                                    </label>
                                    <input type="text" class="form-control form-control-lg" id="Youtube" name="Youtube" placeholder="Channel URL">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Submit Button -->
                        <div class="col-12 text-center mt-5">
                            <button type="submit" class="btn btn-primary btn-lg px-5 py-3">
                                <i class="bi bi-send-fill me-2"></i>Submit Application
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% block scripts %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const selectCountry = document.getElementById('inputCountry');
        
        // Load countries from the API
        fetch('https://restcountries.com/v3.1/all')
            .then(response => response.json())
            .then(data => {
                // Sort countries by common name
                data.sort((a, b) => {
                    if (a.name.common < b.name.common) return -1;
                    if (a.name.common > b.name.common) return 1;
                    return 0;
                });
    
                // Add country options to select
                data.forEach(country => {
                    const option = document.createElement('option');
                    option.value = country.name.common;
                    option.textContent = country.name.common;
                    selectCountry.appendChild(option);
                });
            })
            .catch(error => {
                console.error('Error fetching countries:', error);
            });
            
        // Form validation
        const forms = document.querySelectorAll('.needs-validation');
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    });

    // Show success modal if there are messages
    $(document).ready(function () {
        $('#successModal').modal('show');
    });
</script>
{% endblock %}
{% endblock content %}